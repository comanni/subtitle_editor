(this.webpackJsonpsubtitle_maker=this.webpackJsonpsubtitle_maker||[]).push([[0],{144:function(e,t,n){},145:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(48),i=n.n(a),s=(n(144),n(25)),o=(n(145),n(117),n(183)),l=n(178),j=n(177),d=n(53),u=n(123),b=n(113),O=n(4),x=[];function h(e,t){switch(t.type){case"CREATE":return e.concat(t.subtitle);case"UPDATE":return e.map((function(e){return e.id===parseInt(t.id)?Object(b.a)(Object(b.a)({},e),{},{korean:t.korean}):e}));case"REMOVE":return e.filter((function(e){return e.id!==t.id}));case"ERASE":return e.filter((function(e){return 0===e.id}));default:throw new Error("Unhandled action type: ".concat(t.type))}}var f=Object(r.createContext)(),v=Object(r.createContext)(),g=Object(r.createContext)();function p(e){var t=e.children,n=Object(r.useReducer)(h,x),c=Object(s.a)(n,2),a=c[0],i=c[1],o=Object(r.useRef)();return Object(O.jsx)(f.Provider,{value:a,children:Object(O.jsx)(v.Provider,{value:i,children:Object(O.jsx)(g.Provider,{value:o,children:t})})})}function m(){var e=Object(r.useContext)(f);if(!e)throw new Error("Cannot find SubtitleProvider");return e}function S(){var e=Object(r.useContext)(v);if(!e)throw new Error("Cannot find SubtitleProvider");return e}function k(){var e=Object(r.useContext)(g);if(!e)throw new Error("Cannot find SubtitlePlayer");return e}var C=function(e){var t=e.url;console.log("viewer\ud638\ucd9c");var n=k();return""!==t?Object(O.jsx)(u.a,{videoId:t,opts:{width:"640",height:"390",playerVars:{autoplay:1}},onReady:function(e){n.current=e.target,console.log(n)}}):Object(O.jsx)("div",{class:"NullvideoArea"})},y=n(166),E=n(181),A=n(126),w=n.n(A),I=function(e){var t=e.fileAdd,n=e.setFileAdd,c=S(),a=Object(r.useState)(),i=Object(s.a)(a,2),o=i[0],d=i[1],u=Object(r.useState)(!1),b=Object(s.a)(u,2),x=b[0],h=b[1],f=Object(r.useRef)(),v=Object(r.useRef)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(l.a.Field,{children:[Object(O.jsx)("label",{children:"\uc790\ub9c9 \ud30c\uc77c"}),Object(O.jsxs)(j.a,{button:!0,children:[Object(O.jsx)("input",{type:"file",ref:f,onChange:function(e){var t=e.target.files[0];d(t)}}),Object(O.jsx)(y.a,{ref:v,disabled:t,onClick:function(){if(void 0!==o){h(!1);var e=new FileReader;e.onload=function(){w()(e.result).map((function(e){c({type:"CREATE",subtitle:{id:e.id,start:e.start,end:e.end,text:e.text,korean:""}}),localStorage.setItem("subtitle_".concat(e.id),JSON.stringify({id:e.id,start:e.start,end:e.end,text:e.text,korean:""}))}))},e.readAsText(o,"euc-kr"),n(!0)}else h(!0)},children:t?"\ub4f1\ub85d\uc644\ub8cc":"\uc790\ub9c9 \ub4f1\ub85d\ud558\uae30"})]})]}),x?Object(O.jsx)(E.a,{negative:!0,children:Object(O.jsx)(E.a.Header,{children:"\ud30c\uc77c\uc774 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."})}):""]})},R=n(179),F=n(75),N=function(e){var t=e.data,n=e.dispatch,c=Object(r.useMemo)((function(){return t}),[t]),a=k();console.log(a.current);var i=function(e){var t=e.data,c=Object(r.useState)(t.korean),a=Object(s.a)(c,2),i=a[0],o=a[1];return Object(O.jsx)(j.a,{fluid:!0,"data-id":t.id,children:Object(O.jsx)("input",{type:"text",onBlur:function(e){var t=e.target.parentNode.getAttribute("data-id");n({type:"UPDATE",id:t,korean:e.target.value});var r=JSON.parse(localStorage.getItem("subtitle_".concat(t)));r.korean=e.target.value,localStorage.setItem("subtitle_".concat(t),JSON.stringify(r))},value:i,onChange:function(e){o(e.target.value)}})})};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(R.a,{children:Object(O.jsxs)(R.a.Content,{children:[Object(O.jsxs)(R.a.Meta,{"data-starttime":c.start,onClick:function(e){void 0!==a.current&&(a.current.seekTo(e.target.getAttribute("data-starttime")),a.current.playVideo(),console.log("changeTime"))},children:[Object(O.jsx)(F.a,{children:c.id})," ",c.start," ~ ",c.end]}),Object(O.jsx)(R.a.Header,{content:c.text}),Object(O.jsx)(R.a.Extra,{children:Object(O.jsx)(i,{data:t})})]})})})},P=function(){return Object(O.jsx)("div",{className:"subtitle_default",children:Object(O.jsxs)(o.a,{as:"h2",icon:!0,children:[Object(O.jsx)(d.a,{name:"settings"}),"\uc790\ub9c9 \ud30c\uc77c \ubbf8\uc120\ud0dd",Object(O.jsx)(o.a.Subheader,{children:"\uc790\ub9c9 \ud30c\uc77c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]})})},T=c.a.memo(N,(function(e,t){return e.updatedAt===t.updatedAt})),_=function(e){e.player,e.youtubeUrl;var t=m(),n=S();return Object(O.jsxs)("div",{children:[0===t.length?Object(O.jsx)(P,{}):"",Object(O.jsx)(R.a.Group,{divided:!0,children:t.map((function(e){return Object(O.jsx)(T,{data:e,dispatch:n},e.id)}))})]})},U=n(184);var J=function(){var e=m(),t="";return Object(O.jsx)(y.a,{color:"blue",onClick:function(){e.map((function(e){t+="".concat(e.id,"\n").concat(function(e,t){var n=parseInt(e/3600),r=parseInt(e%3600/60),c=parseInt(e%3600%60),a=parseInt(1e3*(e%3600%60-c));n=n<10?"0"+n:String(n),r=r<10?"0"+r:String(r),c=c<10?"0"+c:String(c),a=a<10?"00"+a:a<100?"0"+a:String(a);var i=parseInt(t/3600),s=parseInt(t%3600/60),o=parseInt(t%3600%60),l=parseInt(1e3*(t%3600%60-o));return i=i<10?"0"+i:String(i),s=s<10?"0"+s:String(s),o=o<10?"0"+o:String(o),l=l<10?"00"+l:l<100?"0"+l:String(l),"".concat(n,":").concat(r,":").concat(c,",").concat(a," --\x3e ").concat(i,":").concat(s,":").concat(o,",").concat(l)}(e.start,e.end),"\n"),e.korean.split("<br />").forEach((function(e){return t+="".concat(e,"\n")})),t+="\n"}));var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download="test.srt",document.body.appendChild(n),n.click()},children:"\ucd5c\uc885 \ud30c\uc77c \ucd9c\ub825\ud558\uae30"})},M=function(e){var t=e.setFileAdd,n=S();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(U.a,{children:Object(O.jsxs)(U.a.Row,{column:5,children:[Object(O.jsx)(U.a.Column,{floated:"left",width:"5",children:Object(O.jsx)(y.a,{onClick:function(){n({type:"ERASE"}),t(!1)},children:"\ub0b4\uc6a9 \uc9c0\uc6b0\uae30"})}),Object(O.jsxs)(U.a.Column,{floated:"right",width:"10",style:{textAlign:"right"},children:[Object(O.jsx)(y.a,{onClick:function(){alert("\uc791\uc5c5\uc911\uc778 \uae30\ub2a5\uc785\ub2c8\ub2e4.")},children:"\uc791\uc5c5\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc"}),Object(O.jsx)(J,{})]})]})})})},B=c.a.memo(M),z=n(180);var D=function(){var e=c.a.useState(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=S();return Object(r.useEffect)((function(){localStorage.length>0&&a(!0)}),[]),Object(O.jsxs)(z.a,{basic:!0,open:n,size:"small",trigger:Object(O.jsx)(y.a,{children:"Basic Modal"}),children:[Object(O.jsxs)(o.a,{icon:!0,children:[Object(O.jsx)(d.a,{name:"archive"}),"\uae30\uc874\uc5d0 \ub4f1\ub85d\ub418\uc5b4\uc788\ub294 \uc790\ub9c9\uc774 \uc788\uc2b5\ub2c8\ub2e4."]}),Object(O.jsx)(z.a.Content,{children:Object(O.jsx)("p",{style:{textAlign:"center"},children:"\uae30\uc874\uc5d0 \uc791\uc5c5\ud558\ub358 \uc790\ub9c9\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ubd88\ub7ec\uc624\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})}),Object(O.jsxs)(z.a.Actions,{children:[Object(O.jsxs)(y.a,{basic:!0,color:"red",inverted:!0,onClick:function(e){localStorage.clear(),a(!1)},children:[Object(O.jsx)(d.a,{name:"remove"})," \uae30\uc874 \uc791\uc5c5 \ub0b4\uc6a9 \uc0ad\uc81c\ud558\uae30"]}),Object(O.jsxs)(y.a,{color:"green",inverted:!0,onClick:function(e){for(var t=localStorage.length,n=1;n<t+1;n++){var r=JSON.parse(localStorage.getItem("subtitle_".concat(n)));i({type:"CREATE",subtitle:{id:r.id,start:r.start,end:r.end,text:r.text,korean:r.korean}})}a(!1)},children:[Object(O.jsx)(d.a,{name:"checkmark"})," \ubd88\ub7ec\uc624\uae30"]})]})]})};var V=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(s.a)(a,2),u=i[0],b=i[1],x=Object(r.useRef)();return Object(O.jsxs)(p,{children:[Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(C,{url:n}),Object(O.jsx)(o.a,{size:"large",children:"\ub3d9\uc601\uc0c1 \ubc0f \uc790\ub9c9 \uc120\ud0dd"}),Object(O.jsxs)(l.a,{children:[Object(O.jsxs)(l.a.Field,{children:[Object(O.jsx)("label",{children:"\uc720\ud29c\ube0c \uc601\uc0c1 \uc8fc\uc18c"}),Object(O.jsxs)(j.a,{placeholder:"youtube content ID\ub97c \uc785\ub825\ud558\uc138\uc694.",icon:!0,children:[Object(O.jsx)("input",{ref:x}),Object(O.jsx)(d.a,{name:"search",circular:"true",link:!0,onClick:function(e){c(e.target.parentNode.firstElementChild.value)}})]})]}),Object(O.jsx)(I,{fileAdd:u,setFileAdd:b})]}),Object(O.jsx)(o.a,{size:"large",children:"\ud30c\uc77c \uc800\uc7a5 \ubc0f \ucd9c\ub825"}),Object(O.jsx)(B,{setFileAdd:b})]}),Object(O.jsx)("div",{className:"subtitle_wrap",children:Object(O.jsx)(_,{youtubeUrl:n})})]}),Object(O.jsx)(D,{})]})};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(V,{})}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.03231d8f.chunk.js.map