{"version":3,"sources":["SubtitleContext.js","components/video/VideoPlayer.js","components/subtitle/SubtitleCreate.js","layout/DataDisplayArea.js","components/FileSaveMenu.js","components/localstorage/LocalstorageCheck.js","App.js","index.js"],"names":["initialState","reducer","state","action","type","concat","subtitle","map","id","parseInt","korean","filter","Error","SubtitleStateContext","createContext","SubtitleDispatchContext","SubtitlePlayerContext","SubtitleProvider","children","useReducer","dispatch","player","useRef","Provider","value","useSubtitleState","context","useContext","useSubtitleDispatch","useSubtitlePlayer","VideoViewer","url","console","log","playerRef","videoId","opts","width","height","playerVars","autoplay","onReady","e","current","target","class","SubtitleCreate","fileAdd","setFileAdd","useState","fileData","setFileData","noFileMessage","setNoFileMessage","ref","button","Form","Field","Input","onChange","file","files","Button","disabled","onClick","undefined","reader","FileReader","onload","parseSRT","result","start","end","text","localStorage","setItem","JSON","stringify","readAsText","Message","negative","Header","MapRendering","data","subtitleData","useMemo","timeFormatChange","Hour","Min","Sec","Mill","String","InputArea","fluid","data-id","onBlur","event","id_key","parentNode","getAttribute","storageData","parse","getItem","defaultValue","Segment","size","className","Item","Content","Meta","data-starttime","seekTo","playVideo","Label","content","Extra","MapPlaceHolder","as","icon","Icon","name","Subheader","MapRenderingMemo","React","memo","prevProps","nextProps","updatedAt","SrtToMap","youtubeUrl","length","Group","FileDownloadButton","color","startTime","endTime","startHour","startMin","startSec","startMill","endHour","endMin","endSec","endMill","TimeFormatChange","split","forEach","element","document","createElement","Blob","href","URL","createObjectURL","download","body","appendChild","click","FileSaveMenu","Grid","Row","column","Column","floated","verticalAlign","style","textAlign","LocalstorageCheckModal","open","setOpen","useEffect","Modal","basic","trigger","Actions","inverted","clear","i","App","setYoutubeUrl","youtubeUrlInput","placeholder","circular","link","firstElementChild","LocalstorageCheck","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b22dbbb4.chunk.js","sourcesContent":["import { useReducer, createContext, useContext, useRef } from \"react\";\nconst initialState = []\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'CREATE':\n      return state.concat(action.subtitle);\n    case 'UPDATE':\n      return state.map(subtitle => subtitle.id === parseInt(action.id)? ({...subtitle, korean: action.korean}) : subtitle)\n    case 'REMOVE':\n      return state.filter(subtitle => subtitle.id !== action.id);\n    case 'ERASE':\n        return state.filter(subtitle => subtitle.id === 0);\n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n}\n\nconst SubtitleStateContext = createContext();\nconst SubtitleDispatchContext = createContext();\nconst SubtitlePlayerContext = createContext();\nexport function SubtitleProvider({ children }) {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const player = useRef();\n  \n    return (\n      <SubtitleStateContext.Provider value={state}>\n        <SubtitleDispatchContext.Provider value={dispatch}>\n          <SubtitlePlayerContext.Provider value={player}>\n          {children}\n          </SubtitlePlayerContext.Provider>\n            \n        </SubtitleDispatchContext.Provider>\n      </SubtitleStateContext.Provider>\n    );\n  }\n  \n  export function useSubtitleState() {\n    const context = useContext(SubtitleStateContext);\n    if (!context) {\n      throw new Error('Cannot find SubtitleProvider');\n    }\n    return context;\n  }\n  \n  export function useSubtitleDispatch() {\n    const context = useContext(SubtitleDispatchContext);\n    if (!context) {\n      throw new Error('Cannot find SubtitleProvider');\n    }\n    return context;\n  }\n  \n  export function useSubtitlePlayer() {\n    const context = useContext(SubtitlePlayerContext);\n    if (!context) {\n      throw new Error('Cannot find SubtitlePlayer');\n    }\n    return context;\n  }\n  \n","\nimport YouTube from \"react-youtube\";\nimport {useSubtitlePlayer} from \"../../SubtitleContext\"\nconst VideoViewer = ({url}) => {\n    console.log(\"viewer호출\")\n\n    const opts = {\n      width: \"640\",\n      height: \"390\",\n      playerVars: {\n        autoplay: 1,\n      },\n    };\n    const playerRef = useSubtitlePlayer();\n    const onReady = (e) => {\n\n      \n      playerRef.current = e.target\n      console.log(playerRef)\n    }\n\n    return (\n      url !== \"\" ? <YouTube videoId={url} opts={opts} onReady={onReady}/> : <div class='NullvideoArea'></div>\n    )\n  }\n\n  export default VideoViewer;","import { useRef, useState } from \"react\";\nimport {\n  Input,\n  Form,\n  Button,\n  Message,\n} from \"semantic-ui-react\";\nimport { useSubtitleDispatch } from \"../../SubtitleContext\";\nimport parseSRT from \"parse-srt\";\nimport React from 'react'\nconst SubtitleCreate = ( {fileAdd, setFileAdd} ) =>  {\n  const dispatch = useSubtitleDispatch();\n  const [fileData, setFileData] = useState();\n  const [noFileMessage, setNoFileMessage] = useState(false)\n  const ref = useRef();\n  const button = useRef();\n\n  function onSubmit() {\n    if(fileData !== undefined){\n      setNoFileMessage(false)\n    let reader = new FileReader();\n    reader.onload = function () {\n      parseSRT(reader.result).map((e) => {\n        dispatch({\n          type: \"CREATE\",\n          subtitle: {\n            id: e.id,\n            start: e.start,\n            end: e.end,\n            text: e.text,\n            korean: e.text,\n          }\n        })\n\n        localStorage.setItem(`subtitle_${e.id}`, JSON.stringify({\n          id: e.id,\n          start: e.start,\n          end: e.end,\n          text: e.text,\n          korean: e.text,\n        }))\n      }\n      );\n\n    };\n    reader.readAsText(fileData, \"euc-kr\");\n    setFileAdd(true)\n\n  } else {\n    setNoFileMessage(true)\n  }\n  }\n  const filechange = (e) => {\n    let file = e.target.files[0];\n    setFileData(file);\n\n  };\n\n  // console.log(useSubtitleState)\n\n  return (\n    <>\n    \n    <Form.Field>\n      <label>자막 파일</label>\n      <Input button>\n        <input type=\"file\" ref={ref} onChange={filechange}></input>\n        <Button ref={button} disabled={fileAdd} onClick={onSubmit}>{fileAdd? \"등록완료\" : \"자막 등록하기\"}</Button>\n      </Input>\n    </Form.Field>\n      {noFileMessage ?     <Message negative>\n    <Message.Header>파일이 선택되지 않았습니다.</Message.Header>\n  </Message> : \"\"}\n\n    </>\n  );\n}\n\nexport default SubtitleCreate;\n","import {useState, useMemo, useRef} from \"react\";\nimport {\n  Item,\n  Input,\n  Label,\n  Header,\n  Icon,\n  Segment\n} from \"semantic-ui-react\";\nimport { useSubtitleDispatch, useSubtitleState, useSubtitlePlayer } from \"../SubtitleContext\";\nimport React from 'react'\n\nconst MapRendering = ({ data, dispatch }) => {\n  const subtitleData = useMemo(() => data, [data])\n  const player = useSubtitlePlayer()\n  const [selected, setSelected] = useState(false)\n  const ref = useRef()\n  const changeTime = (e) => {\n\n    if (player.current !== undefined){\n    player.current.seekTo(e.target.getAttribute('data-starttime'))\n    player.current.playVideo();\n    console.log(\"changeTime\")\n    }\n  }\n  const timeFormatChange = (data) => {\n    let Hour = parseInt(data / 3600);\n    let Min = parseInt((data % 3600) / 60);\n    let Sec = parseInt((data % 3600) % 60);\n    let Mill = parseInt((((data % 3600) % 60) - Sec) * 1000);\n  \n    Hour = Hour < 10 ? \"0\" + Hour : String(Hour);\n    Min = Min < 10 ? \"0\" + Min : String(Min);\n    Sec = Sec < 10 ? \"0\" + Sec : String(Sec);\n    Mill =\n      Mill < 10\n        ? \"00\" + Mill\n        : Mill < 100\n        ? \"0\" + Mill\n        : String(Mill);\n  \n\n    let time = `${Hour}:${Min}:${Sec},${Mill}`;\n    return time;\n  }\n\n  const onFocus = (e) => {\n    setSelected(true)\n    console.log(e)\n    ref.current.focus()\n\n  }\n\n  const InputArea = ({ data }) => {\n    const [korean, setKorean] = useState(data.korean);\n    const onChange = (e) => {\n      setKorean(e.target.value)\n    }\n\n    const onBlur = (event) => {\n      // console.log(event.target.parentNode.getAttribute('data-id'));\n      let id_key = event.target.parentNode.getAttribute('data-id');\n      // console.log(event.target.value)\n      // let data = subtitle.find(e => e.id === parseInt(id))\n      dispatch({\n          type:\"UPDATE\",\n          id: id_key,\n          korean: event.target.value\n          \n      })\n      let storageData = JSON.parse(localStorage.getItem(`subtitle_${id_key}`))\n      storageData.korean = event.target.value\n      localStorage.setItem(`subtitle_${id_key}`, JSON.stringify(storageData))\n\n    } \n    return (\n      <Input fluid  data-id={data.id} >\n      <input type=\"text\"  onBlur={onBlur} defaultValue={data.korean} ></input>\n  </Input>\n    )\n  }\n\n    return (\n      <>\n      <Segment size=\"large\" className=\"subtitleArea\" >\n        <Item>\n          <Item.Content>\n            <Item.Meta data-starttime={subtitleData.start} onClick={changeTime}>\n              <Label>{subtitleData.id}</Label> {timeFormatChange(subtitleData.start)} ~ {timeFormatChange(subtitleData.end)}\n            </Item.Meta>\n            <Item.Header content={subtitleData.text} />\n            <Item.Extra>\n          \n              <InputArea data={data}></InputArea>\n            \n            </Item.Extra>\n          </Item.Content>\n        </Item>\n        </Segment>\n      </>\n    );\n  }\n\n\n  const MapPlaceHolder = () => {\n    return (\n      <div className=\"subtitle_default\">\n        <Header as=\"h2\" icon>\n          <Icon name=\"settings\" />\n          자막 파일 미선택\n          <Header.Subheader>자막 파일을 선택해주세요.</Header.Subheader>\n        </Header>\n      </div>\n    );\n  };\n  // const MapRenderingMemo = React.memo(MapRendering, (prevProps, nextProps) => {\n  //   console.log(prevProps)\n  //   if (prevProps.updatedAt === nextProps.updatedAt) {\n  //     return true;\n  //   }\n  //   console.log(prevProps)\n  //   return false;\n  // })\n  const MapRenderingMemo = React.memo(MapRendering, (prevProps, nextProps) => {\n\n    if (prevProps.updatedAt === nextProps.updatedAt) {\n      return true;\n    }\n\n    return false;\n  })\nconst SrtToMap = ({player, youtubeUrl}) => {\n\n  const subtitle = useSubtitleState();\n  const dispatch = useSubtitleDispatch();\n\n\n  return (\n    <div>\n      {subtitle.length === 0 ? <MapPlaceHolder></MapPlaceHolder> : \"\"}\n      <Item.Group>\n        {subtitle.map((e) => (\n          <MapRenderingMemo data={e} key={e.id} dispatch={dispatch} ></MapRenderingMemo>\n        ))}\n      </Item.Group>\n    </div>\n  );\n};\n\nexport default SrtToMap","import { useSubtitleDispatch, useSubtitleState } from \"../SubtitleContext\";\nimport { Button, Grid, Header } from \"semantic-ui-react\";\nimport React from \"react\";\n\nfunction TimeFormatChange(startTime, endTime) {\n  let startHour = parseInt(startTime / 3600);\n  let startMin = parseInt((startTime % 3600) / 60);\n  let startSec = parseInt((startTime % 3600) % 60);\n  let startMill = parseInt((((startTime % 3600) % 60) - startSec) * 1000);\n\n  startHour = startHour < 10 ? \"0\" + startHour : String(startHour);\n  startMin = startMin < 10 ? \"0\" + startMin : String(startMin);\n  startSec = startSec < 10 ? \"0\" + startSec : String(startSec);\n  startMill =\n    startMill < 10\n      ? \"00\" + startMill\n      : startMill < 100\n      ? \"0\" + startMill\n      : String(startMill);\n\n  let endHour = parseInt(endTime / 3600);\n  let endMin = parseInt((endTime % 3600) / 60);\n  let endSec = parseInt((endTime % 3600) % 60);\n  let endMill = parseInt((((endTime % 3600) % 60) - endSec) * 1000);\n\n  endHour = endHour < 10 ? \"0\" + endHour : String(endHour);\n  endMin = endMin < 10 ? \"0\" + endMin : String(endMin);\n  endSec = endSec < 10 ? \"0\" + endSec : String(endSec);\n  endMill =\n    endMill < 10\n      ? \"00\" + endMill\n      : endMill < 100\n      ? \"0\" + endMill\n      : String(endMill);\n\n  let time = `${startHour}:${startMin}:${startSec},${startMill} --> ${endHour}:${endMin}:${endSec},${endMill}`;\n  return time;\n}\nconst FileDownloadButton = () => {\n  const subtitle = useSubtitleState();\n  let text = \"\";\n  const SrtDownload = () => {\n    subtitle.map((e) => {\n      text += `${e.id}\n${TimeFormatChange(e.start, e.end)}\\n`;\n\n      e.korean.split(\"<br />\").forEach((e) => (text += `${e}\\n`));\n      text += `\\n`;\n    });\n    const element = document.createElement(\"a\");\n    const file = new Blob([text], { type: \"text/plain\" });\n    element.href = URL.createObjectURL(file);\n    element.download = \"test.srt\";\n    document.body.appendChild(element);\n    element.click();\n  };\n  return (\n    <Button color=\"blue\" onClick={SrtDownload}>\n      최종 파일 출력하기\n    </Button>\n  );\n};\n\nconst FileSaveMenu = ({ setFileAdd }) => {\n  const dispatch = useSubtitleDispatch();\n  const sorry = () => {\n    alert(\"작업중인 기능입니다.\");\n  };\n  const deleteAll = () => {\n    dispatch({\n      type: \"ERASE\",\n    });\n    setFileAdd(false);\n  };\n  return (\n    <>\n      <Grid>\n        <Grid.Row column={5} >\n          <Grid.Column floated=\"left\" width=\"5\" verticalAlign=\"middle\">\n            <Header size=\"large\">Subtitle Editor</Header>\n            \n          </Grid.Column>\n\n          <Grid.Column\n            floated=\"right\"\n             width=\"3\"\n             style={{ textAlign: \"right\" }}\n          >\n            <Button onClick={deleteAll}>내용 지우기</Button>\n            {/* <Button onClick={sorry}>작업파일 다운로드</Button> */}\n            <FileDownloadButton></FileDownloadButton>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </>\n  );\n};\n\nexport default React.memo(FileSaveMenu);\n","import \"semantic-ui-css/semantic.min.css\";\n\nimport React, { useEffect } from 'react'\nimport { Button, Header, Icon, Modal } from 'semantic-ui-react'\nimport { useSubtitleDispatch } from \"../../SubtitleContext\";\n\nfunction LocalstorageCheckModal({setFileAdd}) {\n  const [open, setOpen] = React.useState(false)\n  const dispatch = useSubtitleDispatch();\n\n\n  const onCancel = (e) => {\n      localStorage.clear();\n      setOpen(false)\n      \n  }\n\n\n  const onConfirm = (e) => {\n      let length = localStorage.length;\n      for (let i=1; i < length + 1; i++) {\n            let data = JSON.parse(localStorage.getItem(`subtitle_${i}`))\n            dispatch({\n              type: \"CREATE\",\n              subtitle: {\n                id: data.id,\n                start: data.start,\n                end: data.end,\n                text: data.text,\n                korean: data.korean,\n              }\n            })\n           \n      }\n      setOpen(false)\n      setFileAdd(true)\n  }\n\n  useEffect(() => {\n      let chk = localStorage.length\n      if (chk > 0) {\n          setOpen(true)\n      }\n  }, [])\n  return (\n    <Modal\n      basic\n      // onClose={() => setOpen(false)}\n      // onOpen={() => setOpen(true)}\n      open={open}\n      size='small'\n      trigger={<Button>Basic Modal</Button>}\n    >\n      <Header icon>\n        <Icon name='archive' />\n        기존에 등록되어있는 자막이 있습니다.\n      </Header>\n      <Modal.Content>\n        <p style={{textAlign:\"center\"}}>\n          기존에 작업하던 자막이 있습니다. 불러오시겠습니까?\n        </p>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button basic color='red' inverted onClick={onCancel}>\n          <Icon name='remove' /> 기존 작업 내용 삭제하기\n        </Button>\n        <Button color='green' inverted onClick={onConfirm}>\n          <Icon name='checkmark' /> 불러오기\n        </Button>\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nexport default LocalstorageCheckModal","import \"./App.css\";\nimport { useRef, useState } from \"react\";\n\nimport \"semantic-ui-css/semantic.min.css\";\nimport { Input, Form, Header, Icon, Segment } from \"semantic-ui-react\";\nimport VideoViewer from \"./components/video/VideoPlayer\";\nimport { SubtitleProvider } from \"./SubtitleContext\";\nimport SubtitleCreate from \"./components/subtitle/SubtitleCreate\";\nimport SrtToMap from \"./layout/DataDisplayArea\";\nimport FileSaveMenu from \"./components/FileSaveMenu\";\nimport LocalstorageCheckModal from \"./components/localstorage/LocalstorageCheck\";\n\nfunction App() {\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\n  const [fileAdd, setFileAdd] = useState(false);\n  const youtubeUrlInput = useRef();\n\n  const linkChange = (e) => {\n    setYoutubeUrl(e.target.parentNode.firstElementChild.value);\n  };\n\n  return (\n    <SubtitleProvider>\n      <div className=\"App\">\n        <div className=\"topheader\">\n          {/* <Header size=\"large\" floated=\"left\">subtitle Editor</Header> */}\n        <FileSaveMenu setFileAdd={setFileAdd}></FileSaveMenu>\n        </div>\n        <div className=\"App_wrapper\">\n          <div>\n            <VideoViewer url={youtubeUrl}></VideoViewer>\n            <Header size=\"large\">동영상 및 자막 선택</Header>\n            <Form>\n              <Form.Field>\n                <label>유튜브 영상 주소</label>\n                <Input placeholder=\"youtube content ID를 입력하세요.\" icon>\n                  <input ref={youtubeUrlInput} />\n                  <Icon\n                    name=\"search\"\n                    circular=\"true\"\n                    link={true}\n                    onClick={linkChange}\n                  ></Icon>\n                </Input>\n              </Form.Field>\n\n              <SubtitleCreate\n                fileAdd={fileAdd}\n                setFileAdd={setFileAdd}\n              ></SubtitleCreate>\n            </Form>\n            <Header size=\"large\">파일 저장 및 출력</Header>\n            \n            <Header>사용방법</Header>\n            <div>\n              1. 작업하려는 유튜브 ID를 넣는다.(개인작업파일이라면 미등록으로\n              업로드 후 링크를 가져온다.)\n              <br />\n              2. 자막 파일을 선택하여 추가 후 자막 등록하기를 누른다.(srt파일만\n              지원)\n              <br />\n              3. 자막을 원하는 형태의 내용으로 변경한다.(ex. 영어 → 한국어)\n              <br />\n              4. 최종파일 출력하기를 눌러 srt 파일을 다운로드받는다.\n              <br />\n              <br />\n              cf. 자막 입력 시 브라우저에 자동으로 데이터를 저장합니다. 새로고침\n              시 지금까지 작업했던 내용을 불러올 수 있습니다.\n              <br />\n              <br />\n              cf2. 시간을 누르면 영상이 해당 시간으로 이동합니다.\n            </div>\n            <div className=\"ad\">\n              ver. 2021.03.02.0001\n              <br />\n              For developer: mrchoi@llit.kr / <a href=\"https://coupa.ng/bR2xmd\">쿠팡</a> (링크를\n              통해 구매 시 제작자에게 수익이 발생함)\n            </div>\n          </div>\n          <div className=\"subtitle_wrap\">\n            <SrtToMap youtubeUrl={youtubeUrl} />\n          </div>\n        </div>\n      </div>\n      <LocalstorageCheckModal setFileAdd={setFileAdd}></LocalstorageCheckModal>\n    </SubtitleProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}